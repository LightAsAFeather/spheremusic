<!DOCTYPE html>
<head>
		<title>Symphony of Satellites</title>
		<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/pure-min.css">
		<link href='http://fonts.googleapis.com/css?family=Monsieur+La+Doulaise' rel='stylesheet' type='text/css'>

		<!-- midi.js package -->
		 <script src="./js/MIDI/AudioDetect.js" type="text/javascript"></script>
		 <script src="./js/MIDI/LoadPlugin.js" type="text/javascript"></script>
		 <script src="./js/MIDI/Plugin.js" type="text/javascript"></script>
		 <script src="./js/MIDI/Player.js" type="text/javascript"></script>
		 <script src="./js/Window/DOMLoader.XMLHttp.js" type="text/javascript"></script>
		 <script src="./js/Window/DOMLoader.script.js" type="text/javascript"></script>
		 <!-- extras -->
		 <script src="./inc/Base64.js" type="text/javascript"></script>
		 <script src="./inc/base64binary.js" type="text/javascript"></script>

		 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script>

</head>

<body>
		<div class="pure-g-r">
				<div class="pure-u-1-2">
					<img src="http://i.imgur.com/K7JmNq3.png">
				</div>
				<div class="pure-u-1-2">
					<h1 style="font-family: 'Monsieur La Doulaise', cursive; font-size: 48pt; font-weight: normal;">Symphony of Satellites</h1>

					<button class="pure-button pure-button-disabled" id="play">Loading..</button>

				</div>
		</div>

		<script type="text/javascript">

		$(document).ready(function() {

			MIDI.loadPlugin({
				soundfontUrl: "./soundfont/",
				instruments: [ "acoustic_grand_piano", "synth_drum" ],
				callback: function() {
						  	$('#play').html('\u25B6 Play');
						  	$('#play').removeClass('pure-button-disabled');
						  	$('#play').addClass('pure-button-primary');
						}		
			});

		  	$('#play').click(function() {
				playMusic();
			});

		});

		playMusic = function () {
			MIDI.programChange(0, 0);
			for (var n = 0; n < 100; n ++) {
				var delay = n / 4; // play one note every quarter second
				var note = MIDI.pianoKeyOffset + n; // the MIDI note
				var velocity = 127; // how hard the note hits
				// play the note
				MIDI.noteOn(0, note, velocity, delay);
			}		
		};

		</script>
</body>

</html>

